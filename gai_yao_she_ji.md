## 第一节 引言

### 1.1 编写目的

本说明书是PMS网站产品的总体设计和实现说明，记录了系统整体实现上技术层面上的考虑，并且以需求说明作为依据，同时该文档将作为产品实现、特性要求和控制的依据。

软件开发小组的每一位参与开发成员应该阅读本说明，以清楚产品在技术方面的要求和实现策略，本手册将进行技术评审和技术的可行性检查，同时为下一步的详细设计说明提供框架。

### 1.2 背景

说明：

A、	软件系统的名称： PMS
B、	任务提出者：中国新蛋网公司

本项目将实现项目管理系统的原型部分，并且在该原型的基础上进行功能的扩展和需求的界定，最终完成的版本将在pm.wolfogre.com网站上进行测试。提供企业内的项目管理、人员管理、日程管理等服务。

本系统将使用SQL Server 2008 R2作为数据库存储系统，使用IIS作为WEB服务器。

### 1.3 定义

PMS——Project Management System；

IIS——Internet Information Services；

MVC——Model–view–controller。

### 1.4 参考资料

相关的文件包括：

A、	《PMS可行性报告》；

B、	《PMS需求规格说明书》；

参考资料：

A、	国家标准《概要设计说明书（GB8567——88）》。

## 第二节 总体设计

### 2.1 需求规定

需求规定的详细内容，请参考独立的文档《PMS需求说明书》。

### 2.2 运行环境

####1、设备

客户程序硬件要求：

具有 Pentium II 处理器且满足以下要求的计算机：

最低 64 MB 内存

最小 1 GB 硬盘

鼠标

键盘

WEB服务器硬件需求：

具有 Pentium III 处理器且满足以下要求的计算机：

最低 256MB 内存

最小 8 GB 硬盘

总线I/O：8M/s；

鼠标

键盘

数据库服务器硬件需求：

具有 Pentium III 处理器且满足以下要求的计算机：

最低 256MB 内存

最小 20 GB 硬盘

鼠标

键盘

#### 2、支持程序

客户程序软件： 

Windows 98/NT /2000或更高版本

IE 4.0或者更高的版本

网络支持

WEB服务器软件：

Windows NT /2000 Server或更高版本

IIS4.0或后续版本

数据库服务器软件：

Windows NT /2000 Server或更高版本

SQL Server 2008 R2企业版

### 2.3 基本设计概念和处理流程

本系统的实现采用典型的B/S结构来实现，不同的客户端程序通过浏览器共同访问WEB服务器的发布页面、WEB服务器访问数据库服务器进行数据存取，系统结构如：
 
TODO

设计说明：

1. 每一个计算机需要不需要安装客户程序，但是需要有IE4.0或更高版本的支持；
2. WEB发布服务器访问数据库服务器，数据库服务器对外部不可见；
3. 数据库服务器使用SQL Server 2008 R2企业版来实现，对于目前的访问量，SQL Server 2008 R2在足够的硬件环境的支持下能够适用，并且在经济上也是合理的；
4. 多用户并发访问和处理、数据加锁、事务协调，由IIS、SQL Server 数据库共同来完成，本系统不提供单独的事务处理服务器。

### 2.4 结构 

应用程序采用ASP.NET MVC实现，所有的页面脚本在服务器端解释。

系统规划的结果表示：

TODO
 

功能和模块的划分如图：

TODO
 
模块划分说明：

1、以上是按照功能进行的模块划分，以方面组织逻辑关系较强的页面和页面组；

2、按照不同工作顺序，例如首先设计页面整体风格、然后设计页面样式、再编写服务器脚本程序等等，请参考《PMS详细设计说明书》。

### 2.5 功能需求与程序的关系

在需求说明中规定要实现的功能，对应的模块和程序实现如下：

TODO

### 2.6 人工处理过程

（不适用）

### 2.7 尚未解决的问题

需求中的问题在本设计中已经全部实现，但是，基于一般的考虑，可能会在开发过程或者后期版本中增加的功能包括：

1. 数据导出为Excel表格供下载；
2. 人力资源跟踪——数据收集和数据挖掘。
3. 
## 第三节 接口设计 

###3.1 用户接口

用户开启浏览器访问：http://pm.wolfogre.com，使用用户名和密码登录，访问相应的网页，进行查看和编辑。

###3.2 外部接口

（不适用）

###3.3 内部接口 

控制器接口：处理用户请求的接口，分别有账户管理控制器，下载控制器，主页控制器，项目管理控制器，日程管理控制器，人力管理控制器，上线管理控制器。

模型接口：提供数据库访问模型，分别有用户信息模型，项目信息模型，日程信息模型，人力信息模型，上线信息模型。

视图接口：提供视图渲染、数据展示的接口，每个控制器对应一到多个视图接口。

## 第四节 运行设计

### 4.1 运行模块组合

1.	用户登录，查看项目管理，编辑项目，退出；
2.	用户登录，查看日程管理，编辑日程，退出；
3.	用户登录，查看人力管理，编辑人力，退出；
4.	用户登录，查看上线管理，退出。

### 4.2 运行控制

1.	用户输入用户名和密码，点击Project，查看相关信息，点击相关按钮进行操作，点击Logout退出登录；
2.	用户输入用户名和密码，点击WorkHour，查看相关信息，点击相关按钮进行操作，点击Logout退出登录；
3.	用户输入用户名和密码，点击WorkPercetage，查看相关信息，点击相关按钮进行操作，点击Logout退出登录；
4.	用户输入用户名和密码，点击Launched，查看相关信息，点击相关按钮进行操作，点击Logout退出登录；

### 4.3 运行时间

1.	用户登录：约五分钟
2.	查看相关模块：时间不定，超过20分钟不操作登录失效；
3.	编辑相关数据：时间不定，超过20分钟不操作登录失效；
4.	退出：立即。

## 第五节 系统数据结构设计
   
### 5.1 逻辑结构设计要点 

Staff表：ID，Name，Department，IsOnJob；

Project表：ID，ProjectID，LO，MISStatus，IsLanuched，CNPMId，StartDate，，EndDate，ReleaseDate，DelayReleaseDate，LanuchDate，DelayLanuchDate；

PBInfo表：ID，PBNo，PBLink，PBName，USPMId，Maturity，EstimatedHours ，MaturityEstimateHours，ActualHours，NeedInMobile，WillFinish，BizUnit ，Domain；

Domain表：ID，StaffId，Percentage，WorkLoadPercentage，Project，Memo；

WorkHours表：ID，StaffId，StartDate，WorkType，WorkContent 。

### 5.2 物理结构设计要点

TODO

### 5.3 数据结构与程序的关系

TODO

## 第六节 系统出错处理设计

### 6.1 出错信息



### 6.2 补救措施 

a. 后备技术：周期性地备份数据库数据；
b．降效技术：人工导出数据库记录，建立新的服务器点；
c．恢复与再重启技术：如服务器发生灾难性故障，利用备份的记录，重新建立数据库服务器和WEB服务器。

### 6.3 系统维护设计

网站由第三方提供实时监测服务，当监测到网站访问异常，如返回码不等于200，网站响应时间过长等，则短信和邮件通知管理员，管理员负责检查网站状态，并登陆服务器解决故障。


